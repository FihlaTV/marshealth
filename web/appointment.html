<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>MARS Health: Admin Console</title>

        <script src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/css/materialize.min.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/js/materialize.min.js"></script>
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <script src="js/picker.js"></script>
        <script src="js/picker.time.js"></script>
        <script src="js/legacy.js"></script>

    </head>
    <body>
        <!-- <nav>
         <div class="nav-wrapper green darken-1">
           <a href="#" class="brand-logo center">MARS Admin Console</a>
           <ul id="nav-mobile" class="right hide-on-med-and-down">
           </ul>
         </div>
       </nav> -->
       <div class="row">
          <div class="col s12">
            <center><img class="responsive-img" src="img/MARSlogo-wide.png" style="height: 250px;"></center>
          </div>
       </div>

       <div class="row">

         <div class="col s3 collection">
           <h4>Navigation</h4>
           <div class="divider"></div>
           <a href="index.html" class="collection-item">Home</a>
           <a href="scheduling.html" class="collection-item">Scheduling</a>
           <a href="appointment.html" class="collection-item active">Appointments</a>
           <a href="message.html" class="collection-item">Messaging</a>
         </div>

          <div class="col s9">
            <h4>Appointments</h4>
            <div class="divider"></div>

            <h5>Get Appointments</h5>
            <form name="getAppointmentsForm" action="http://localhost/api.php/appointments" method="get" onsubmit="addFilter()">
                Start date: <input type="date" id="startDate" name="filter[]"><br>
                End date: <input type="date" id="endDate" name="filter[]"><br>
                <input type="hidden" name="filter[]" value="status,eq,0">
                <!-- <input type="submit" value="Get Appointments"> -->
                <button class="btn waves-effect waves-light" type="submit" name="action">Submit
                  <i class="material-icons right">class</i>
                </button>
            </form>

            <br>
            <div class="divider"></div>

            <h5>Set Appointments</h5>

            <form name="setAppointmentsForm" action="http://localhost/api.php/appointments" method="post">
                Date: <input type="date" name="date"><br>
                Start Time: <input type="time" name="timeStart"><br>
                End Time: <input type="time" name="timeEnd"><br>
                <!-- <input type="submit" value="Set Appointment"> -->
                <button class="btn waves-effect waves-light" type="submit" name="action">Submit
                  <i class="material-icons right">class</i>
                </button>
            </form>
          </div>
      </div>

        <script>
            function addFilter() {
                var scheduleStartDate = document.getElementById("startDate").value;
                scheduleStartDate = "date,ge," + scheduleStartDate;
                console.log(scheduleStartDate);
                document.getElementById("startDate").value = scheduleStartDate;

                var scheduleEndDate = document.getElementById("endDate").value;
                scheduleEndDate = "date,le," + scheduleEndDate;
                document.getElementById("endDate").value = scheduleEndDate;

                return false;
            }

            function dateFormat() {
              var date = new Date(document.getElementById("scheduleID").value);

              date = date.getFullYear() + '-' +
              ('00' + (date.getMonth()+1)).slice(-2) + '-' +
              ('00' + date.getDate()).slice(-2);

              console.log(date);
              document.getElementById("scheduleID").value = date;
            }

            $('.datepicker').pickadate({
              selectMonths: true, // Creates a dropdown to control month
              selectYears: 15 // Creates a dropdown of 15 years to control year
            });

            $('.timepicker').pickatime();


        </script>
    </body>
</html>
